<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Web VR</title>
    <script src="aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('raycaster-autorefresh', {
            init: function () {
                var el = this.el;
                this.el.addEventListener('model-loaded', function () {
                    var cursorEl = el.querySelector('[raycaster]');
                    if (cursorEl) {
                        cursorEl.components.raycaster.refreshObjects();
                    }
                });
            }
        });
    </script>
</head>
<body>
    <a-scene raycaster-autorefresh>
        <a-assets>
            <a-asset-item id="wall" src="resources/wall.gltf"></a-asset-item>
            <img id="carpet" src="resources/carpet.jpg">
            <a-asset-item id="sofa" src="resources/burlap_sofa.gltf"></a-asset-item>
            <a-asset-item id="door" src="resources/door.gltf"></a-asset-item>
        </a-assets>

        <a-light type="directional" color="#fff" intensity="5.8" position="-1 10 1"></a-light>
        <a-light type="directional" color="#fff" intensity="5.8" position="1 10 -1"></a-light>

        <a-sky color="rgb(2, 176, 176)"></a-sky>

        <a-camera position="0 1.5 0">
            <a-cursor fuse="true" fuse-timeout="750"></a-cursor>
        </a-camera>

        <a-box position="0 2.2 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>
        <a-sphere position="1 2.2 -4.5" radius="1" color="#083301" shadow></a-sphere>
        <a-cylinder position="1.75 1.9 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder>
         <a-box position="2 2.2 1" rotation="0 45 0" color="#e61919" shadow></a-box>

        <!-- Side walls -->
        <a-box position="4 5.5 -6" rotation="0 -90 0" depth=".05" width="16" height="8" color="cyan" shadow></a-box>
        <a-box position="-4 5.5 -6" rotation="0 -90 0" depth=".05" width="16" height="8" color="cyan" shadow></a-box>
        <a-box position="0 9 -6" rotation="-270 0 0" depth=".05" width="8" height="16" color="cyan" shadow></a-box>

        <a-gltf-model scale="1.7 1.7 1.7" position="0.2 1.5 -5.6" rotation="0 0 0" src="#wall" shadow></a-gltf-model>
        <a-plane position="0 1.5 -6" src="#carpet" repeat="90 90" rotation="-90 0 0" width="8" height="16" color="#154201" shadow></a-plane>
        <a-plane position="4 1.5 -6" src="#carpet" repeat="90 90" rotation="-90 0 0" width="8" height="16" color="#154201" shadow></a-plane>

        <!-- GLTF Models -->
       <a-gltf-model scale="1.7 1.7 1.7" position="0.2 1.5 -5.6" rotation="0 0 0" src="#wall" shadow></a-gltf-model>
<a-gltf-model scale="1.7 1.7 1.7" position="-3.7 1.5 -2" rotation="0 90 0" src="#sofa" shadow></a-gltf-model>
<a-gltf-model scale="1.7 1.7 1.7" position="-2.05 1.5 -5.7" rotation="0 -180 0" src="#door" door-listener fusable clickable shadow></a-gltf-model>
    </a-scene>
</body>
</html>
